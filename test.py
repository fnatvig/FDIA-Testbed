import matplotlib.pyplot as plt
y1 = [4.883572910330258e-05, 4.9975886213360354e-05, 4.878277832176536e-05, 4.8782450903672725e-05, 4.8828009312273934e-05, 4.880181950284168e-05, 4.878046456724405e-05, 4.8820664233062416e-05, 4.8911308113019913e-05, 5.1292132411617786e-05, 4.905574314761907e-05, 4.889407136943191e-05, 4.6776833187323064e-05, 4.897892722510733e-05, 4.887106115347706e-05, 4.879358675680123e-05, 4.886602982878685e-05, 4.88295299874153e-05, 4.8956902901409194e-05, 4.919839557260275e-05, 4.9549715186003596e-05, 4.934382013743743e-05, 5.418459841166623e-05, 5.573487942456268e-05, 5.7519293477525935e-05, 4.9611346184974536e-05, 4.373649426270276e-05, 4.9491372919874266e-05, 4.9152229621540755e-05, 4.9079379095928743e-05, 4.905902096652426e-05, 4.8925005103228614e-05, 4.89678313897457e-05, 4.8906276788329706e-05, 4.9022237362805754e-05, 4.810013706446625e-05, 4.722227458842099e-05, 5.8880737924482673e-05, 4.9650352593744174e-05, 4.987162537872791e-05, 5.3194078645901754e-05, 4.973691102350131e-05, 5.348640843294561e-05, 5.0208909669891e-05, 4.9801208660937846e-05, 4.717869160231203e-05, 4.978057768312283e-05, 5.244246494839899e-05, 4.9708782171364874e-05, 4.95036510983482e-05, 0.0001555693888803944, 0.00015624312800355256, 0.0001555100898258388, 0.00015416054520756006, 0.00015350370085798204, 0.00016739871352910995, 0.000158555296366103, 0.00015054336108732969, 0.00014996100799180567, 0.00015100740711204708, 0.00015196861932054162, 0.0001697108382359147, 0.00015199363406281918, 0.00015316584904212505, 0.00015414878726005554, 0.00015283256652764976, 0.00015247186820488423, 0.0001526476989965886, 0.00015245724353007972, 0.0001514208852313459, 0.0001502548111602664, 0.00014965672744438052, 0.0001499728241469711, 0.00014919838577043265, 0.00014831899898126721, 0.00014536264643538743, 0.00014969377662055194, 0.0001569073210703209, 0.00014997966354712844, 0.0001504865358583629, 0.0001523520186310634, 0.00014958430256228894, 0.00017512486374471337, 0.00018857674149330705, 0.0001500394573668018, 0.00016607150610070676, 0.00013730893260799348, 0.0001499430218245834, 0.00016182511171791703, 0.00016329213394783437, 0.00014818501949775964, 0.00016095349565148354, 0.00015070589142851532, 0.00014707629452459514, 0.00015089483349584043, 0.0001461692590964958, 0.00014656000712420791, 0.00014718873717356473, 0.00014801362704019994, 0.00015217515465337783]
y2 = [4.883572910330258e-05, 4.8531768698012456e-05, 4.878277832176536e-05, 4.8782450903672725e-05, 4.8828009312273934e-05, 4.880181950284168e-05, 4.878046456724405e-05, 4.8820664233062416e-05, 4.8911308113019913e-05, 4.886616443400271e-05, 4.905574314761907e-05, 4.889407136943191e-05, 4.825520227313973e-05, 4.897892722510733e-05, 4.887106115347706e-05, 4.879358675680123e-05, 4.886602982878685e-05, 4.88295299874153e-05, 4.8956902901409194e-05, 4.919839557260275e-05, 4.9549715186003596e-05, 4.934382013743743e-05, 4.955975600751117e-05, 4.9514805141370744e-05, 4.968174471287057e-05, 4.9611346184974536e-05, 5.023278936278075e-05, 4.9491372919874266e-05, 4.9152229621540755e-05, 4.9079379095928743e-05, 4.997534051653929e-05, 4.8925005103228614e-05, 4.89678313897457e-05, 4.8906276788329706e-05, 4.9022237362805754e-05, 4.875510057900101e-05, 4.722227458842099e-05, 4.709850327344611e-05, 4.9650352593744174e-05, 4.987162537872791e-05, 5.0068065320374444e-05, 4.973691102350131e-05, 5.348640843294561e-05, 5.0208909669891e-05, 4.9801208660937846e-05, 5.0388243835186586e-05, 4.978057768312283e-05, 4.9873488023877144e-05, 4.9708782171364874e-05, 4.95036510983482e-05, 0.0001555693888803944, 0.00015624312800355256, 0.0001555100898258388, 0.00015605746011715382, 0.00015350370085798204, 0.00015490241639781743, 0.000158555296366103, 0.00015054336108732969, 0.00014996100799180567, 0.00015100740711204708, 0.00015196861932054162, 0.0001521827362012118, 0.00015199363406281918, 0.00015316584904212505, 0.00015414878726005554, 0.00015283256652764976, 0.00015247186820488423, 0.0001526476989965886, 0.00015245724353007972, 0.0001514208852313459, 0.0001502548111602664, 0.00014965672744438052, 0.00015104564954526722, 0.00014919838577043265, 0.00014831899898126721, 0.00014720014587510377, 0.00014969377662055194, 0.00014816215843893588, 0.00014997966354712844, 0.0001504865358583629, 0.00015094890841282904, 0.00014958430256228894, 0.00014876938075758517, 0.00014958748943172395, 0.0001500394573668018, 0.00014863439719192684, 0.00015004523447714746, 0.0001499430218245834, 0.00015054525283630937, 0.0001517508499091491, 0.00014818501949775964, 0.0001492785377195105, 0.00015032172086648643, 0.00014707629452459514, 0.00014861302042845637, 0.0001461692590964958, 0.00014656000712420791, 0.00014718873717356473, 0.00014801362704019994, 0.00014917812950443476]

fdia_t = [1, 9, 12, 22, 23, 24, 26, 30, 35, 36, 37, 40, 42, 45, 47, 53, 55, 56, 61, 72, 75, 76, 77, 80, 82, 83, 85, 86, 88, 89, 91, 92, 94, 99]
# fdia_min = min([min(y1), min(y2)])
# fdia_max = max([max(y1), max(y2)])


# for i in fdia_t:

#     fdia_min.append(min([min(y1), min(y2)]))
#     fdia_max.append(max([max(y1), max(y2)]))
detected_t = []
detected = []
undetected_t = []
undetected = []

for t in fdia_t:
    if y1[t]==y2[t]:
        undetected_t.append(t)
        undetected.append(y2[t])
    else:
        detected_t.append(t)
        detected.append(y2[t])


t = list(range(100))

# for i in range(len(fdia_t)-1):
#     plt.vlines(x = fdia_t[i], ymin = fdia_min, ymax = fdia_max,
#             colors = 'r')
# plt.vlines(x = fdia_t[-1], ymin = fdia_min, ymax = fdia_max,
#             colors = 'r',
#             label = 'FDIA')
plt.plot(t,y1, 'silver', label='Without Defense',zorder=1)
plt.plot(t,y2, 'black', label='With Defense',zorder=2)
plt.scatter(undetected_t, undetected, color='r', label='Undetected FDIA', alpha=1, zorder=5, s=45, marker="x")
plt.scatter(detected_t, detected, color='g', label='Detected FDIA', alpha=1, zorder=5, s=45, marker="x")
plt.ylabel("MSE")
plt.xlabel("time")
plt.legend()
plt.show()